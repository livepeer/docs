---
title: "Source Select"
description:
  "The `SourceSelect` component provides broadcasters with a dropdown interface
  to choose between different media source devices like cameras and microphones."
---

The `SourceSelect` component offers broadcasters a dropdown menu
(`SourceSelect`) to select their media source devices such as cameras (video
input) and microphones (audio input). This React component leverages
`@radix-ui/react-presence` for conditional rendering, ensuring accurate display
based on device support and availability.

## Introduction

### `SourceSelect`

`SourceSelect` acts as a dropdown menu, enabling broadcasters to switch between
available media devices for audio and video sources. It dynamically populates
the list of available devices and reflects the current selection, updating the
broadcast setup based on user interaction.

#### Props

The component accepts all props suitable for a select root element, along with
specific props:

##### `forceMount`

A boolean that, when set to true, ensures the component is always mounted. This
is particularly useful for managing animations with external animation libraries
and ensuring visibility during dynamic broadcast scenarios.

##### `type`

A string indicating the type of media devices to list in the dropdown, either
`"audioinput"` for microphones or `"videoinput"` for cameras.

##### `children`

A function that takes the available media devices as input and returns the React
nodes (options) to be rendered inside the dropdown. This enables dynamic
population of the dropdown based on the available devices.

### Usage

Here's a generalized example of how the `SourceSelect` component might be used
within the broadcast interface:

```tsx
import * as Broadcast from "@livepeer/react/broadcast";
import { CheckIcon, ChevronDownIcon } from "lucide-react";

function BroadcastComponent() {
  return (
    <Broadcast.Root>
      <Broadcast.SourceSelect type="videoinput">
        {(devices) =>
          devices ? (
            <>
              <Broadcast.SelectTrigger aria-label={"Video input"}>
                <Broadcast.SelectValue placeholder={"Select a video input"} />
                <Broadcast.SelectIcon>
                  <ChevronDownIcon />
                </Broadcast.SelectIcon>
              </Broadcast.SelectTrigger>
              <Broadcast.SelectPortal>
                <Broadcast.SelectContent>
                  <Broadcast.SelectViewport>
                    <Broadcast.SelectGroup>
                      {devices?.map((device) => (
                        <Broadcast.SelectItem
                          key={device.deviceId}
                          value={device.deviceId}
                        >
                          <Broadcast.SelectItemText>
                            {device.friendlyName}
                          </Broadcast.SelectItemText>
                          <Broadcast.SelectItemIndicator>
                            <CheckIcon />
                          </Broadcast.SelectItemIndicator>
                        </Broadcast.SelectItem>
                      ))}
                    </Broadcast.SelectGroup>
                  </Broadcast.SelectViewport>
                </Broadcast.SelectContent>
              </Broadcast.SelectPortal>
            </>
          ) : (
            <span>There was an error fetching the available devices.</span>
          )
        }
      </Broadcast.SourceSelect>
    </Broadcast.Root>
  );
}
```

In this example, `SourceSelect` provides a dropdown menu for broadcasters to
choose from available video input devices (cameras), dynamically populated based
on the available devices. This does not include screenshare media.

## Data Attributes

The `SourceSelect` component assigns data attributes to its underlying element
to reflect the current state and selection.

### `SourceSelect`

#### `data-livepeer-source-select`

Serves to identify the component's role within the broadcast interface.

#### `data-type`

Indicates the type of media source device the dropdown is currently displaying,
either `"audioinput"` for microphones or `"videoinput"` for cameras.

#### `data-visible`

Reflects the visibility status of the dropdown, with `"true"` meaning it's
currently visible (i.e., device support is available) and `"false"` denoting
it's not visible.
