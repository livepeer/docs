---
title: "Error"
description:
  "The `ErrorIndicator` component is a visual representation of error states in
  media playback, offering customizable display options based on error types."
---

The `ErrorIndicator` component is a specialized React component designed to
provide visual feedback on error states within media playback contexts. It
leverages the `@livepeer/core/media` for error definitions and
`@radix-ui/react-presence` for conditional rendering based on the presence of
errors. The component is highly configurable, allowing developers to specify
which error types should trigger its visibility through a flexible `matcher`
prop.

## Introduction

`ErrorIndicator` is a React component that integrates with the media context
state store. It conditionally renders based on the current error state of the
media, offering granular control over its appearance with a `matcher` prop. This
prop can be set to various values, such as `"all"`, `"not-permissions"`, or a
specific `PlaybackError["type"]`, to tailor the component's response to
different error scenarios.

### Props

The component accepts all props suitable for a div element, in addition to the
following specific props:

#### `forceMount`

A boolean to force the component's presence in the DOM, useful for controlling
animations with external libraries.

#### `matcher`

A prop to define the condition under which the `ErrorIndicator` should be
visible. It can be a string indicating a broad category of errors (like `"all"`
or `"not-permissions"`) or a more specific error type. Alternatively, it can be
a function for custom logic, receiving the PlaybackError type and returning a
boolean for whether it should be shown.

### Usage

Here is a generalized usage example of the `ErrorIndicator` component:

```tsx
import {
  ErrorIndicator,
  MediaScopedProps,
  useMediaContext,
  useStore,
} from "@livepeer/react/player";

function ErrorComponent(props: MediaScopedProps<{}>) {
  const context = useMediaContext("ErrorComponent", props.__scopeMedia);
  const error = useStore(context.store, ({ error }) => error);

  return (
    <ErrorIndicator matcher="all">
      {error && <p>Error: {error.message}</p>}
    </ErrorIndicator>
  );
}
```

In this example, the `ErrorIndicator` is used within a media component to
display the error message whenever any error occurs in the media playback.

This is only an example - you likely want to hide the exact error message from
your users, and use the error.type property

## Data Attributes

`ErrorIndicator` sets several data attributes on the underlying div element to
reflect the current error state, providing hooks for CSS styling or JavaScript
interaction:

#### `data-livepeer-error-indicator`

Always present to indicate the component's role.

#### `data-error-state`

Indicates whether there is an error (`"true"` or `"false"`).

#### `data-error-type`

Specifies the type of the current error or `"none"` if no error is present.

Could be one of:
`"offline" | "access-control" | "fallback" | "permissions" | "unknown" | "none"`

#### `data-visible`

Reflects whether the indicator is currently visible (`"true"` or `"false"`).

This is often used for dynamically applying enter/exit CSS animations.
